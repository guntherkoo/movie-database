{"ast":null,"code":"import _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport { RSAA, getJSON } from 'redux-api-middleware'; // ACTIONS\n\nvar Type = {\n  TOGGLE: 'TOGGLE',\n  FETCH_MOVIE_DATA: 'FETCH_MOVIE_DATA'\n};\nvar Action = {\n  toggleTap: function toggleTap() {\n    return {\n      type: Type.TOGGLE\n    };\n  },\n  fetchMovieData: function fetchMovieData(status, region) {\n    var endpoint = \"https://api.themoviedb.org/3/movie/\".concat(status, \"?api_key=f7b1557a908d86ec205d705bf4d509fb&region=\").concat(region);\n    return _defineProperty({}, RSAA, {\n      endpoint: endpoint,\n      method: 'GET',\n      types: [{\n        type: \"\".concat(Type.FETCH_MOVIE_DATA, \"_REQUEST\")\n      }, {\n        type: \"\".concat(Type.FETCH_MOVIE_DATA, \"_SUCCESS\"),\n        meta: {\n          status: status,\n          region: region\n        },\n        payload: function payload(action, state, res) {\n          var has_content = res.status !== 204;\n          return has_content ? getJSON(res).then(function (json) {\n            return json;\n          }, function (err) {\n            return undefined;\n          }) : undefined;\n        }\n      }, {\n        type: \"\".concat(Type.FETCH_MOVIE_DATA, \"_FAILURE\"),\n        meta: function meta(action, state, res) {\n          if (res) {\n            return {\n              status: res.status,\n              statusText: res.statusText\n            };\n          }\n\n          return {\n            status: 'Network request failed'\n          };\n        }\n      }]\n    });\n  }\n};\nexport { Type, Action };","map":{"version":3,"sources":["/Users/guntherkoo/Documents/Side Projects/movie-database/redux/actions/index.js"],"names":["RSAA","getJSON","Type","TOGGLE","FETCH_MOVIE_DATA","Action","toggleTap","type","fetchMovieData","status","region","endpoint","method","types","meta","payload","action","state","res","has_content","then","json","err","undefined","statusText"],"mappings":";AAAA,SAASA,IAAT,EAAeC,OAAf,QAA8B,sBAA9B,C,CAEA;;AACA,IAAMC,IAAI,GAAG;AACZC,EAAAA,MAAM,EAAG,QADG;AAEZC,EAAAA,gBAAgB,EAAG;AAFP,CAAb;AAKA,IAAMC,MAAM,GAAG;AACdC,EAAAA,SAAS,EAAE,qBAAM;AAChB,WAAO;AAAEC,MAAAA,IAAI,EAAEL,IAAI,CAACC;AAAb,KAAP;AACA,GAHa;AAKdK,EAAAA,cAAc,EAAE,wBAACC,MAAD,EAASC,MAAT,EAAoB;AACnC,QAAMC,QAAQ,gDAAyCF,MAAzC,8DAAmGC,MAAnG,CAAd;AAEA,+BACEV,IADF,EACS;AACPW,MAAAA,QAAQ,EAARA,QADO;AAEPC,MAAAA,MAAM,EAAE,KAFD;AAGPC,MAAAA,KAAK,EAAE,CACN;AACCN,QAAAA,IAAI,YAAKL,IAAI,CAACE,gBAAV;AADL,OADM,EAIN;AACCG,QAAAA,IAAI,YAAKL,IAAI,CAACE,gBAAV,aADL;AAECU,QAAAA,IAAI,EAAE;AACLL,UAAAA,MAAM,EAANA,MADK;AAELC,UAAAA,MAAM,EAANA;AAFK,SAFP;AAMCK,QAAAA,OAAO,EAAE,iBAACC,MAAD,EAASC,KAAT,EAAgBC,GAAhB,EAAwB;AAChC,cAAMC,WAAW,GAAGD,GAAG,CAACT,MAAJ,KAAe,GAAnC;AACA,iBAAOU,WAAW,GAAGlB,OAAO,CAACiB,GAAD,CAAP,CAAaE,IAAb,CAAkB,UAAAC,IAAI;AAAA,mBAAIA,IAAJ;AAAA,WAAtB,EAAgC,UAAAC,GAAG;AAAA,mBAAIC,SAAJ;AAAA,WAAnC,CAAH,GAAuDA,SAAzE;AACA;AATF,OAJM,EAeN;AACChB,QAAAA,IAAI,YAAKL,IAAI,CAACE,gBAAV,aADL;AAECU,QAAAA,IAAI,EAAE,cAACE,MAAD,EAASC,KAAT,EAAgBC,GAAhB,EAAwB;AAC7B,cAAIA,GAAJ,EAAS;AACR,mBAAO;AACNT,cAAAA,MAAM,EAAES,GAAG,CAACT,MADN;AAENe,cAAAA,UAAU,EAAEN,GAAG,CAACM;AAFV,aAAP;AAIA;;AAED,iBAAO;AACNf,YAAAA,MAAM,EAAE;AADF,WAAP;AAGA;AAbF,OAfM;AAHA,KADT;AAqCA;AA7Ca,CAAf;AAgDA,SAASP,IAAT,EAAeG,MAAf","sourcesContent":["import { RSAA, getJSON } from 'redux-api-middleware';\n\n// ACTIONS\nconst Type = {\n\tTOGGLE : 'TOGGLE',\n\tFETCH_MOVIE_DATA : 'FETCH_MOVIE_DATA'\n}\n\nconst Action = {\n\ttoggleTap: () => {\n\t\treturn { type: Type.TOGGLE }\n\t},\n\n\tfetchMovieData: (status, region) => {\n\t\tconst endpoint = `https://api.themoviedb.org/3/movie/${status}?api_key=f7b1557a908d86ec205d705bf4d509fb&region=${region}`;\n\n\t\treturn {\n\t\t\t[RSAA]: {\n\t\t\t\tendpoint,\n\t\t\t\tmethod: 'GET',\n\t\t\t\ttypes: [\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: `${Type.FETCH_MOVIE_DATA}_REQUEST`,\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: `${Type.FETCH_MOVIE_DATA}_SUCCESS`,\n\t\t\t\t\t\tmeta: {\n\t\t\t\t\t\t\tstatus,\n\t\t\t\t\t\t\tregion,\n\t\t\t\t\t\t},\n\t\t\t\t\t\tpayload: (action, state, res) => {\n\t\t\t\t\t\t\tconst has_content = res.status !== 204;\n\t\t\t\t\t\t\treturn has_content ? getJSON(res).then(json => json, err => undefined) : undefined;\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: `${Type.FETCH_MOVIE_DATA}_FAILURE`,\n\t\t\t\t\t\tmeta: (action, state, res) => {\n\t\t\t\t\t\t\tif (res) {\n\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\tstatus: res.status,\n\t\t\t\t\t\t\t\t\tstatusText: res.statusText\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\tstatus: 'Network request failed'\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t]\n\t\t\t}\n\t\t};\n\t}\n}\n\nexport { Type, Action };"]},"metadata":{},"sourceType":"module"}